{"level":"info","message":"Server is shutting down..."}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-07T07:20:27.496Z, Body: {\"Metadata\":{\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-09-10T13:30:46.838Z\"},\"Data\":{\"Patient\":{\"PatientID\":2803320,\"PatientEventID\":729323072,\"PatientStatus\":\"Active\",\"PatientFirst\":\"new patient\",\"PatientMiddle\":\"Middle \",\"PatientLast\":\"lastname\",\"PatientDOB\":\"2002-01-02\",\"PatientSSN\":\"111223333\",\"PatientGender\":\"M\",\"PatientEthnicity\":[],\"PatientRace\":[],\"PatientAddress\":{\"AddressLine1\":\"address 1\",\"AddressLine2\":\"\",\"City\":\"CITY\",\"State\":\"ST\",\"Zip\":\"11111\"},\"PatientPhone\":\"222-333-4444\",\"PatientMobilePhone\":\"\",\"PatientFloor\":\"floor\",\"PatientRoom\":\"room\",\"PatientAdmitDate\":\"2024-09-10T00:00:00\",\"Facility\":{\"FacilityName\":\"facility name\",\"PlaceOfServiceCode\":32,\"NPI\":\"9999999999\",\"ExternalID\":\"extid\",\"FacilityAddress\":{\"AddressLine1\":\"address1\",\"AddressLine2\":\"\",\"City\":\"city\",\"State\":\"st\",\"Zip\":\"77777\"}},\"Insurance\":[{\"InsuranceSetID\":1,\"CompanyName\":\"name 1 again\",\"CompanyAddress\":{},\"SubscriberAddress\":{},\"InsurancePriority\":\"Primary\",\"PolicyNumber\":\"12345678\",\"SubscriberEmployerAddress\":{}},{\"InsuranceSetID\":2,\"CompanyName\":\"name2 not again \",\"CompanyAddress\":{},\"SubscriberAddress\":{},\"InsurancePriority\":\"Secondary\",\"PolicyNumber\":\"0987654\",\"SubscriberEmployerAddress\":{}},{\"InsuranceSetID\":3,\"CompanyName\":\"name 3\",\"CompanyAddress\":{},\"SubscriberAddress\":{},\"InsurancePriority\":\"Secondary\",\"PolicyNumber\":\"0987654\",\"SubscriberEmployerAddress\":{}}],\"PatientLanguage\":{\"LanguageName\":\"English\",\"Code_639_1\":\"en\",\"Code_639_2\":\"eng\"},\"IsACO\":false,\"PatientEnrollments\":[],\"MedicareNumber\":\"ujhh1123\"}}}"}
{"level":"info","message":"Creating patient with metadata: {\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-09-10T13:30:46.838Z\"}"}
{"level":"info","message":"patient created with internal id: 82"}
{"level":"info","message":"patient migrated with internal id: 82"}
{"level":"info","message":"Patient data and insurance saved successfully for ID: 82"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-07T07:20:29.631Z, Duration: 2135ms"}
{"level":"info","message":"Server is shutting down..."}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/charges, Time: 2024-10-07T10:39:35.821Z, Body: {\"Metadata\":{\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-09-10T13:35:02.486Z\"},\"Data\":{\"BillingEvent\":{\"Patient\":{\"PatientFirst\":\"first name\",\"PatientMiddle\":\"middle\",\"PatientLast\":\"LastName\",\"PatientDOB\":\"2002-04-03\",\"PatientSSN\":\"123457894\",\"PatientGender\":\"F\",\"PatientAddress\":{\"AddressLine1\":\"address 1\",\"AddressLine2\":\"\",\"City\":\"city\",\"State\":\"ST\",\"Zip\":\"12345\"},\"PatientPhone\":\"111-222-3333\",\"PatientMobilePhone\":\"\",\"IsACO\":false,\"PatientEnrollments\":[]},\"BillingEventID\":658552962,\"PatientID\":71303542,\"PatientExternalID\":\"2713150\",\"FacilityID\":409492,\"FacilityExternalID\":\"FAYLTC\",\"PlaceOfServiceCode\":32,\"EncounterID\":658552962,\"DateOfService\":\"2024-09-09\",\"Charges\":[{\"CPT\":\"99308\",\"TimeSpent\":0,\"Units\":1,\"Modifiers\":[null],\"ICD\":[{\"ICD10\":\"G62.9\",\"Description\":\"Neuropathy\"}]}],\"Provider\":{\"FirstName\":\"prov FN\",\"LastName\":\"PROVln\",\"NPI\":\"9999999999\",\"TIN\":\"46-123456\",\"ProviderID\":\"488542\",\"ProviderExternalID\":\"extid\"},\"MedicaidNumber\":\"123478\"}}}"}
{"level":"info","message":"Creating charge with metadata: {\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-09-10T13:35:02.486Z\"}"}
{"level":"info","message":"Charge data saved successfully for BillingEvent ID: undefined"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-07T10:39:37.930Z, Duration: 2109ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Server is shutting down..."}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-08T12:17:56.840Z, Body: {\"Metadata\":{\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-10-08T12:04:53.979Z\"},\"Data\":{\"Patient\":{\"PatientID\":15303529,\"PatientEventID\":15303529,\"PatientStatus\":\"Active\",\"PatientFirst\":\"TESTY\",\"PatientMiddle\":\"\",\"PatientLast\":\"PATIENT\",\"PatientDOB\":\"1934-01-19\",\"PatientGender\":\"F\",\"PatientEthnicity\":[],\"PatientRace\":[],\"PatientAddress\":{\"AddressLine1\":\"\",\"AddressLine2\":\"\",\"City\":\"\",\"State\":\"\",\"Zip\":\"28801\"},\"PatientPhone\":\"999-999-9999\",\"PatientMobilePhone\":\"\",\"PatientAdmitDate\":\"2024-10-07T00:00:00\",\"Facility\":{\"FacilityName\":\"ACCEL AT CRYSTAL PARK SNF\",\"PlaceOfServiceCode\":31,\"NPI\":\"1689029266\",\"ExternalID\":\"1689029266\",\"FacilityAddress\":{\"AddressLine1\":\"TESTING\",\"AddressLine2\":\"\",\"City\":\"TEST\",\"State\":\"NC\",\"Zip\":\"28801\"}},\"Insurance\":[],\"IsACO\":false,\"PatientEnrollments\":[]}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-08T12:17:59.294Z, Duration: 2454ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-08T12:21:06.300Z, Body: {\"Metadata\":{\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-10-08T12:04:53.979Z\"},\"Data\":{\"Patient\":{\"PatientID\":15303529,\"PatientEventID\":15303529,\"PatientStatus\":\"Active\",\"PatientFirst\":\"TESTY\",\"PatientMiddle\":\"\",\"PatientLast\":\"PATIENT\",\"PatientDOB\":\"1934-01-19\",\"PatientGender\":\"F\",\"PatientEthnicity\":[],\"PatientRace\":[],\"PatientAddress\":{\"AddressLine1\":\"\",\"AddressLine2\":\"\",\"City\":\"\",\"State\":\"\",\"Zip\":\"28801\"},\"PatientPhone\":\"999-999-9999\",\"PatientMobilePhone\":\"\",\"PatientAdmitDate\":\"2024-10-07T00:00:00\",\"Facility\":{\"FacilityName\":\"ACCEL AT CRYSTAL PARK SNF\",\"PlaceOfServiceCode\":31,\"NPI\":\"1689029266\",\"ExternalID\":\"1689029266\",\"FacilityAddress\":{\"AddressLine1\":\"TESTING\",\"AddressLine2\":\"\",\"City\":\"TEST\",\"State\":\"NC\",\"Zip\":\"28801\"}},\"Insurance\":[],\"IsACO\":false,\"PatientEnrollments\":[]}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-08T12:21:06.742Z, Duration: 442ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-08T12:22:03.026Z, Body: {\"Metadata\":{\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-10-08T12:04:53.979Z\"},\"Data\":{\"Patient\":{\"PatientID\":15303529,\"PatientEventID\":15303529,\"PatientStatus\":\"Active\",\"PatientFirst\":\"TESTY\",\"PatientMiddle\":\"\",\"PatientLast\":\"PATIENT\",\"PatientDOB\":\"1934-01-19\",\"PatientGender\":\"F\",\"PatientEthnicity\":[],\"PatientRace\":[],\"PatientAddress\":{\"AddressLine1\":\"\",\"AddressLine2\":\"\",\"City\":\"\",\"State\":\"\",\"Zip\":\"28801\"},\"PatientPhone\":\"999-999-9999\",\"PatientMobilePhone\":\"\",\"PatientAdmitDate\":\"2024-10-07T00:00:00\",\"Facility\":{\"FacilityName\":\"ACCEL AT CRYSTAL PARK SNF\",\"PlaceOfServiceCode\":31,\"NPI\":\"1689029266\",\"ExternalID\":\"1689029266\",\"FacilityAddress\":{\"AddressLine1\":\"TESTING\",\"AddressLine2\":\"\",\"City\":\"TEST\",\"State\":\"NC\",\"Zip\":\"28801\"}},\"Insurance\":[],\"IsACO\":false,\"PatientEnrollments\":[]}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-08T12:22:03.341Z, Duration: 315ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-08T13:44:14.540Z, Body: {\"Metadata\":{\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-09-10T13:30:46.838Z\"},\"Data\":{\"Patient\":{\"PatientID\":2803320,\"PatientEventID\":729323072,\"PatientStatus\":\"Active\",\"PatientFirst\":\"new patient\",\"PatientMiddle\":\"Middle \",\"PatientLast\":\"lastname\",\"PatientDOB\":\"2002-01-02\",\"PatientSSN\":\"111223333\",\"PatientGender\":\"M\",\"PatientEthnicity\":[],\"PatientRace\":[],\"PatientAddress\":{\"AddressLine1\":\"address 1\",\"AddressLine2\":\"\",\"City\":\"CITY\",\"State\":\"ST\",\"Zip\":\"11111\"},\"PatientPhone\":\"222-333-4444\",\"PatientMobilePhone\":\"\",\"PatientFloor\":\"floor\",\"PatientRoom\":\"room\",\"PatientAdmitDate\":\"2024-09-10T00:00:00\",\"Facility\":{\"FacilityName\":\"facility name\",\"PlaceOfServiceCode\":32,\"NPI\":\"9999999999\",\"ExternalID\":\"extid\",\"FacilityAddress\":{\"AddressLine1\":\"address1\",\"AddressLine2\":\"\",\"City\":\"city\",\"State\":\"st\",\"Zip\":\"77777\"}},\"Insurance\":[{\"InsuranceSetID\":1,\"CompanyName\":\"name 1 again\",\"CompanyAddress\":{},\"SubscriberAddress\":{},\"InsurancePriority\":\"Primary\",\"PolicyNumber\":\"12345678\",\"SubscriberEmployerAddress\":{}},{\"InsuranceSetID\":2,\"CompanyName\":\"name2 not again \",\"CompanyAddress\":{},\"SubscriberAddress\":{},\"InsurancePriority\":\"Secondary\",\"PolicyNumber\":\"0987654\",\"SubscriberEmployerAddress\":{}},{\"InsuranceSetID\":3,\"CompanyName\":\"name 3\",\"CompanyAddress\":{},\"SubscriberAddress\":{},\"InsurancePriority\":\"Secondary\",\"PolicyNumber\":\"0987654\"}],\"PatientLanguage\":{\"LanguageName\":\"English\",\"Code_639_1\":\"en\",\"Code_639_2\":\"eng\"},\"IsACO\":false,\"PatientEnrollments\":[],\"MedicareNumber\":\"ujhh1123\"}}}"}
{"level":"info","message":"Updating patient with metadata: {\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-09-10T13:30:46.838Z\"}"}
{"level":"info","message":"patient updated with  internal id: 82"}
{"level":"info","message":"patient migrated with internal id: 82"}
{"level":"info","message":"Patient updated successfully for external ID: 2803320"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-08T13:44:17.769Z, Duration: 3229ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T06:35:29.945Z, Body: {\"Metadata\":{\"ApiSender\":\"TestSender\"},\"Data\":{\"Patient\":{\"PatientID\":12345,\"PatientFirst\":\"John\",\"PatientDOB\":\"1990-01-01\",\"PatientAddress\":{\"AddressLine1\":\"123 Main St\"},\"Facility\":{\"FacilityName\":\"Test Facility\",\"PlaceOfServiceCode\":1,\"NPI\":\"1234567890\",\"ExternalID\":\"FAC123\"},\"Insurance\":[{\"InsuranceSetID\":1,\"CompanyName\":\"Test Insurance\",\"InsurancePriority\":\"Primary\",\"PolicyNumber\":\"POL12345\"}]}}}"}
{"level":"info","message":"Creating patient with metadata: {\"ApiSender\":\"TestSender\"}"}
{"level":"error","message":"Error creating patient: Cannot read properties of undefined (reading 'split')","stack":"TypeError: Cannot read properties of undefined (reading 'split')\n    at Patient.insertPatient (file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/models/patientModel.js:110:59)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.createPatient (file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/controllers/patientController.js:33:28)\n    at async file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/routes/patientRoutes.js:12:9"}
{"level":"info","message":"Response: 500 Internal Server Error; Time: 2024-10-09T06:35:30.958Z, Duration: 1013ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T06:42:11.201Z, Body: {\"Metadata\":{\"ApiSender\":\"TestSender\"},\"Data\":{\"Patient\":{\"PatientID\":12345,\"PatientFirst\":\"John\",\"PatientDOB\":\"1990-01-01\",\"PatientAddress\":{\"AddressLine1\":\"123 Main St\"},\"Facility\":{\"FacilityName\":\"Test Facility\",\"PlaceOfServiceCode\":1,\"NPI\":\"1234567890\",\"ExternalID\":\"FAC123\"},\"Insurance\":[{\"InsuranceSetID\":1,\"CompanyName\":\"Test Insurance\",\"InsurancePriority\":\"Primary\",\"PolicyNumber\":\"POL12345\"}]}}}"}
{"level":"info","message":"Creating patient with metadata: {\"ApiSender\":\"TestSender\"}"}
{"level":"info","message":"patient created with internal id: 83"}
{"level":"info","message":"migration failed for patient with internal id: 83"}
{"level":"info","message":"Patient data and insurance saved successfully for ID: 83"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T06:42:12.643Z, Duration: 1442ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T06:43:27.301Z, Body: {\"Metadata\":{\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-10-08T12:04:53.979Z\"},\"Data\":{\"Patient\":{\"PatientID\":15303529,\"PatientEventID\":15303529,\"PatientStatus\":\"Active\",\"PatientFirst\":\"TESTY\",\"PatientMiddle\":\"\",\"PatientLast\":\"PATIENT\",\"PatientDOB\":\"1934-01-19\",\"PatientGender\":\"F\",\"PatientEthnicity\":[],\"PatientRace\":[],\"PatientAddress\":{\"AddressLine1\":\"\",\"AddressLine2\":\"\",\"City\":\"\",\"State\":\"\",\"Zip\":\"28801\"},\"PatientPhone\":\"999-999-9999\",\"PatientMobilePhone\":\"\",\"PatientAdmitDate\":\"2024-10-07T00:00:00\",\"Facility\":{\"FacilityName\":\"ACCEL AT CRYSTAL PARK SNF\",\"PlaceOfServiceCode\":31,\"NPI\":\"1689029266\",\"ExternalID\":\"1689029266\",\"FacilityAddress\":{\"AddressLine1\":\"TESTING\",\"AddressLine2\":\"\",\"City\":\"TEST\",\"State\":\"NC\",\"Zip\":\"28801\"}},\"Insurance\":[],\"IsACO\":false,\"PatientEnrollments\":[]}}}"}
{"level":"info","message":"Creating patient with metadata: {\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-10-08T12:04:53.979Z\"}"}
{"level":"info","message":"patient created with internal id: 84"}
{"level":"info","message":"patient migrated with internal id: 84"}
{"level":"error","message":"Failed to insert insurance after patient creation"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T06:43:29.115Z, Duration: 1814ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T06:44:32.864Z, Body: {\"Metadata\":{\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-10-08T12:04:53.979Z\"},\"Data\":{\"Patient\":{\"PatientID\":15503529,\"PatientEventID\":15303529,\"PatientStatus\":\"Active\",\"PatientFirst\":\"TESTY\",\"PatientMiddle\":\"\",\"PatientLast\":\"PATIENT\",\"PatientDOB\":\"1934-01-19\",\"PatientGender\":\"F\",\"PatientEthnicity\":[],\"PatientRace\":[],\"PatientAddress\":{\"AddressLine1\":\"\",\"AddressLine2\":\"\",\"City\":\"\",\"State\":\"\",\"Zip\":\"28801\"},\"PatientPhone\":\"999-999-9999\",\"PatientMobilePhone\":\"\",\"PatientAdmitDate\":\"2024-10-07T00:00:00\",\"Facility\":{\"FacilityName\":\"ACCEL AT CRYSTAL PARK SNF\",\"PlaceOfServiceCode\":31,\"NPI\":\"1689029266\",\"ExternalID\":\"1689029266\",\"FacilityAddress\":{\"AddressLine1\":\"TESTING\",\"AddressLine2\":\"\",\"City\":\"TEST\",\"State\":\"NC\",\"Zip\":\"28801\"}},\"Insurance\":[],\"IsACO\":false,\"PatientEnrollments\":[]}}}"}
{"level":"info","message":"Creating patient with metadata: {\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-10-08T12:04:53.979Z\"}"}
{"level":"info","message":"patient created with internal id: 85"}
{"level":"info","message":"patient migrated with internal id: 85"}
{"level":"error","message":"Error creating patient: Error inserting insurance records: NJS-005: invalid value for parameter 2","stack":"Error: Error inserting insurance records: NJS-005: invalid value for parameter 2\n    at Patient.insertInsurance (file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/models/patientModel.js:251:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.createPatient (file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/controllers/patientController.js:41:31)\n    at async file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/routes/patientRoutes.js:12:9"}
{"level":"info","message":"Response: 500 Internal Server Error; Time: 2024-10-09T06:44:33.955Z, Duration: 1091ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T06:45:40.359Z, Body: {\"Metadata\":{\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-10-08T12:04:53.979Z\"},\"Data\":{\"Patient\":{\"PatientID\":12503529,\"PatientEventID\":15303529,\"PatientStatus\":\"Active\",\"PatientFirst\":\"TESTY\",\"PatientMiddle\":\"\",\"PatientLast\":\"PATIENT\",\"PatientDOB\":\"1934-01-19\",\"PatientGender\":\"F\",\"PatientEthnicity\":[],\"PatientRace\":[],\"PatientAddress\":{\"AddressLine1\":\"\",\"AddressLine2\":\"\",\"City\":\"\",\"State\":\"\",\"Zip\":\"28801\"},\"PatientPhone\":\"999-999-9999\",\"PatientMobilePhone\":\"\",\"PatientAdmitDate\":\"2024-10-07T00:00:00\",\"Facility\":{\"FacilityName\":\"ACCEL AT CRYSTAL PARK SNF\",\"PlaceOfServiceCode\":31,\"NPI\":\"1689029266\",\"ExternalID\":\"1689029266\",\"FacilityAddress\":{\"AddressLine1\":\"TESTING\",\"AddressLine2\":\"\",\"City\":\"TEST\",\"State\":\"NC\",\"Zip\":\"28801\"}},\"Insurance\":[],\"IsACO\":false,\"PatientEnrollments\":[]}}}"}
{"level":"info","message":"Creating patient with metadata: {\"ApiSender\":\"GEHRIMED\",\"ApiConsumer\":\"net_director\",\"MessageDateTime\":\"2024-10-08T12:04:53.979Z\"}"}
{"level":"info","message":"patient created with internal id: 86"}
{"level":"info","message":"patient migrated with internal id: 86"}
{"level":"info","message":"Patient data and insurance saved successfully for ID: 86"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T06:45:41.421Z, Duration: 1062ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:16:06.679Z, Body: {\"Metadata\":{\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":12345,\"PatientFirst\":\"John\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1990-01-01\"}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:16:07.266Z, Duration: 587ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:16:45.215Z, Body: {\"Metadata\":{\"ApiSender\":\"FullSender\",\"ApiConsumer\":\"FullConsumer\",\"MessageDateTime\":\"2024-10-01T14:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":67890,\"PatientEventID\":112233,\"PatientStatus\":\"Active\",\"PatientFirst\":\"Jane\",\"PatientMiddle\":\"M\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1985-12-25\",\"PatientSSN\":\"123-45-6789\",\"PatientGender\":\"Female\",\"PatientEthnicity\":[\"Ethnicity1\",\"Ethnicity2\"],\"PatientRace\":[\"Race1\",\"Race2\"],\"PatientAddress\":{\"AddressLine1\":\"456 Another St\",\"AddressLine2\":\"Apt 101\",\"City\":\"SampleCity\",\"State\":\"SC\",\"Zip\":\"12345\"},\"PatientPhone\":\"123-456-7890\",\"PatientMobilePhone\":\"098-765-4321\",\"PatientFloor\":\"5\",\"PatientRoom\":\"501\",\"PatientAdmitDate\":\"2024-10-01T08:00:00Z\",\"Facility\":{\"FacilityName\":\"Full Facility\",\"PlaceOfServiceCode\":2,\"NPI\":\"0987654321\",\"ExternalID\":\"EXT123\",\"FacilityAddress\":{\"AddressLine1\":\"789 Facility Rd\",\"AddressLine2\":\"Suite 100\",\"City\":\"FacilityCity\",\"State\":\"FC\",\"Zip\":\"54321\"}},\"Insurance\":[{\"InsuranceSetID\":1,\"CompanyName\":\"Insurance A\",\"CompanyAddress\":{\"AddressLine1\":\"123 Insurance St\",\"City\":\"InsuranceCity\",\"State\":\"IC\",\"Zip\":\"45678\"},\"SubscriberAddress\":{\"AddressLine1\":\"789 Subscriber Rd\",\"City\":\"SubscriberCity\",\"State\":\"SC\",\"Zip\":\"78945\"},\"InsurancePriority\":\"Primary\",\"PolicyNumber\":\"POL123456\",\"SubscriberEmployerAddress\":{\"AddressLine1\":\"Employer St\",\"City\":\"EmployerCity\",\"State\":\"EC\",\"Zip\":\"45612\"}}],\"PatientLanguage\":{\"LanguageName\":\"English\",\"Code_639_1\":\"en\",\"Code_639_2\":\"eng\"},\"IsACO\":true,\"PatientEnrollments\":[{\"EnrollmentID\":\"ENR001\",\"EnrollmentStatus\":\"Active\"}],\"MedicareNumber\":\"MED123456789\"}}}"}
{"level":"info","message":"Creating patient with metadata: {\"ApiSender\":\"FullSender\",\"ApiConsumer\":\"FullConsumer\",\"MessageDateTime\":\"2024-10-01T14:00:00Z\"}"}
{"level":"info","message":"patient created with internal id: 87"}
{"level":"info","message":"migration failed for patient with internal id: 87"}
{"level":"info","message":"Patient data and insurance saved successfully for ID: 87"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T07:16:46.926Z, Duration: 1711ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:17:10.112Z, Body: {\"Metadata\":{\"ApiSender\":\"TestSender\",\"ApiConsumer\":\"Consumer1\",\"MessageDateTime\":\"2024-10-01T10:30:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":45678,\"PatientFirst\":\"Alice\",\"PatientLast\":\"Smith\",\"PatientDOB\":\"1978-06-15\",\"PatientAddress\":{\"AddressLine1\":\"123 Main St\",\"City\":\"Hometown\",\"State\":\"HS\",\"Zip\":\"98765\"},\"PatientAdmitDate\":\"2024-10-01T09:00:00Z\",\"PatientGender\":\"Female\",\"IsACO\":false}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:17:10.417Z, Duration: 305ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:18:05.467Z, Body: {\"Metadata\":{\"ApiSender\":\"TestSender\",\"ApiConsumer\":\"Consumer1\",\"MessageDateTime\":\"2024-10-01T10:30:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":45678,\"PatientFirst\":\"Alice\",\"PatientLast\":\"Smith\",\"PatientDOB\":\"1978-06-15\",\"PatientAddress\":{\"AddressLine1\":\"123 Main St\",\"City\":\"Hometown\",\"State\":\"HS\",\"Zip\":\"98765\"},\"PatientAdmitDate\":\"2024-10-01T09:00:00Z\",\"PatientGender\":\"Female\",\"IsACO\":false}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:18:05.717Z, Duration: 250ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:18:27.439Z, Body: {\"Metadata\":{\"ApiSender\":\"TestSender\",\"ApiConsumer\":\"Consumer1\",\"MessageDateTime\":\"2024-10-01T10:30:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":45678,\"PatientFirst\":\"Alice\",\"PatientLast\":\"Smith\",\"PatientDOB\":\"1978-06-15\",\"PatientAddress\":{\"AddressLine1\":\"123 Main St\",\"City\":\"Hometown\",\"State\":\"HS\",\"Zip\":\"98765\"},\"PatientAdmitDate\":\"2024-10-01T09:00:00Z\",\"PatientGender\":\"Female\",\"IsACO\":false}}}"}
{"level":"info","message":"Creating patient with metadata: {\"ApiSender\":\"TestSender\",\"ApiConsumer\":\"Consumer1\",\"MessageDateTime\":\"2024-10-01T10:30:00Z\"}"}
{"level":"info","message":"patient created with internal id: 88"}
{"level":"info","message":"migration failed for patient with internal id: 88"}
{"level":"info","message":"Patient data and insurance saved successfully for ID: 88"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T07:18:28.608Z, Duration: 1169ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:18:53.276Z, Body: {\"Metadata\":{\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":123445,\"PatientFirst\":\"John\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1990-01-01\"}}}"}
{"level":"info","message":"Creating patient with metadata: {\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"}"}
{"level":"info","message":"patient created with internal id: 89"}
{"level":"info","message":"migration failed for patient with internal id: 89"}
{"level":"info","message":"Patient data and insurance saved successfully for ID: 89"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T07:18:54.442Z, Duration: 1166ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:19:14.028Z, Body: {\"Metadata\":{\"ApiSender\":\"NullTestSender\",\"ApiConsumer\":null,\"MessageDateTime\":\"2024-10-01T16:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":98765,\"PatientEventID\":null,\"PatientFirst\":\"Charlie\",\"PatientLast\":\"Brown\",\"PatientDOB\":\"1992-05-10\",\"PatientSSN\":null,\"PatientGender\":\"Male\",\"PatientAddress\":{\"AddressLine1\":\"789 Broadway St\",\"AddressLine2\":null,\"City\":\"BigCity\",\"State\":\"BC\",\"Zip\":\"67890\"},\"PatientPhone\":null,\"PatientMobilePhone\":null,\"PatientAdmitDate\":null,\"Facility\":null,\"Insurance\":[],\"MedicareNumber\":null}}}"}
{"level":"info","message":"Creating patient with metadata: {\"ApiSender\":\"NullTestSender\",\"ApiConsumer\":null,\"MessageDateTime\":\"2024-10-01T16:00:00Z\"}"}
{"level":"info","message":"patient created with internal id: 90"}
{"level":"info","message":"migration failed for patient with internal id: 90"}
{"level":"info","message":"Patient data and insurance saved successfully for ID: 90"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T07:19:15.170Z, Duration: 1142ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:19:28.251Z, Body: {\"Metadata\":{\"ApiSender\":\"TypeTestSender\",\"ApiConsumer\":\"Consumer2\",\"MessageDateTime\":\"2024-10-01T18:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":\"string_instead_of_number\",\"PatientFirst\":12345,\"PatientLast\":\"Doe\",\"PatientDOB\":\"invalid-date-format\",\"PatientGender\":1,\"PatientAddress\":{\"AddressLine1\":\"Invalid Address\",\"City\":\"TestCity\",\"State\":\"TS\",\"Zip\":123456},\"PatientAdmitDate\":\"2024-10-01\",\"Facility\":{\"FacilityName\":\"Test Facility\",\"PlaceOfServiceCode\":\"invalid-code\",\"NPI\":\"123456\",\"ExternalID\":\"FAC987\"}}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:19:28.560Z, Duration: 309ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:19:47.931Z, Body: {\"Metadata\":{\"ApiSender\":\"EmptyTestSender\",\"ApiConsumer\":\"Consumer3\",\"MessageDateTime\":\"\"},\"Data\":{\"Patient\":{\"PatientID\":112233,\"PatientFirst\":\"\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"\",\"PatientEthnicity\":[],\"PatientRace\":[],\"PatientAddress\":{\"AddressLine1\":\"\",\"City\":\"\",\"State\":\"\",\"Zip\":\"\"},\"PatientPhone\":\"\",\"PatientAdmitDate\":\"\",\"Insurance\":[],\"Facility\":{\"FacilityName\":\"\",\"NPI\":\"\",\"FacilityAddress\":{\"AddressLine1\":\"\",\"City\":\"\",\"State\":\"\",\"Zip\":\"\"}}}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:19:48.224Z, Duration: 293ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:20:17.465Z, Body: {\"Metadata\":{\"ApiSender\":\"MalformedSender\",\"ApiConsumer\":\"Consumer4\",\"MessageDateTime\":\"2024-10-01T19:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":99999,\"PatientFirst\":\"Test\",\"PatientAddress\":\"This should be an object, not a string\"}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:20:17.760Z, Duration: 295ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:23:28.431Z, Body: {\"Metadata\":{\"ApiSender\":\"FullSender\",\"ApiConsumer\":\"FullConsumer\",\"MessageDateTime\":\"2024-10-01T14:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":67890,\"PatientEventID\":112233,\"PatientStatus\":\"Active\",\"PatientFirst\":\"Jane\",\"PatientMiddle\":\"M\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1985-12-25\",\"PatientSSN\":\"123-45-6789\",\"PatientGender\":\"Female\",\"PatientEthnicity\":[\"Ethnicity1\",\"Ethnicity2\"],\"PatientRace\":[\"Race1\",\"Race2\"],\"PatientAddress\":{\"AddressLine1\":\"456 Another St\",\"AddressLine2\":\"Apt 101\",\"City\":\"SampleCity\",\"State\":\"SC\",\"Zip\":\"12345\"},\"PatientPhone\":\"123-456-7890\",\"PatientMobilePhone\":\"098-765-4321\",\"PatientFloor\":\"5\",\"PatientRoom\":\"501\",\"PatientAdmitDate\":\"2024-10-01T08:00:00Z\",\"Facility\":{\"FacilityName\":\"Full Facility\",\"PlaceOfServiceCode\":2,\"NPI\":\"0987654321\",\"ExternalID\":\"EXT123\",\"FacilityAddress\":{\"AddressLine1\":\"789 Facility Rd\",\"AddressLine2\":\"Suite 100\",\"City\":\"FacilityCity\",\"State\":\"FC\",\"Zip\":\"54321\"}},\"Insurance\":[{\"InsuranceSetID\":1,\"CompanyName\":\"Insurance A\",\"CompanyAddress\":{\"AddressLine1\":\"123 Insurance St\",\"City\":\"InsuranceCity\",\"State\":\"IC\",\"Zip\":\"45678\"},\"SubscriberAddress\":{\"AddressLine1\":\"789 Subscriber Rd\",\"City\":\"SubscriberCity\",\"State\":\"SC\",\"Zip\":\"78945\"},\"InsurancePriority\":\"Primary\",\"PolicyNumber\":\"POL123456\",\"SubscriberEmployerAddress\":{\"AddressLine1\":\"Employer St\",\"City\":\"EmployerCity\",\"State\":\"EC\",\"Zip\":\"45612\"}}],\"PatientLanguage\":{\"LanguageName\":\"English\",\"Code_639_1\":\"en\",\"Code_639_2\":\"eng\"},\"IsACO\":true,\"PatientEnrollments\":[{\"EnrollmentID\":\"ENR001\",\"EnrollmentStatus\":\"Active\"}],\"MedicareNumber\":\"MED123456789\"}}}"}
{"level":"info","message":"Updating patient with metadata: {\"ApiSender\":\"FullSender\",\"ApiConsumer\":\"FullConsumer\",\"MessageDateTime\":\"2024-10-01T14:00:00Z\"}"}
{"level":"info","message":"patient updated with  internal id: 87"}
{"level":"info","message":"migration failed for patient with internal id: 87"}
{"level":"info","message":"Patient updated successfully for external ID: 67890"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T07:23:30.513Z, Duration: 2082ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:31:01.757Z, Body: {\"Metadata\":{\"ApiSender\":\"FullSender\",\"ApiConsumer\":\"FullConsumer\",\"MessageDateTime\":\"2024-10-01T14:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":67890,\"PatientEventID\":112233,\"PatientStatus\":\"Active\",\"PatientFirst\":\"Jane\",\"PatientMiddle\":\"M\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1985-12-25\",\"PatientSSN\":\"123-45-6789\",\"PatientGender\":\"Female\",\"PatientEthnicity\":[\"Ethnicity1\",\"Ethnicity2\"],\"PatientRace\":[\"Race1\",\"Race2\"],\"PatientAddress\":{\"AddressLine1\":\"456 Another St\",\"AddressLine2\":\"Apt 101\",\"City\":\"SampleCity\",\"State\":\"SC\",\"Zip\":\"12345\"},\"PatientPhone\":\"123-456-7890\",\"PatientMobilePhone\":\"098-765-4321\",\"PatientFloor\":\"5\",\"PatientRoom\":\"501\",\"PatientAdmitDate\":\"2024-10-01T08:00:00Z\",\"Facility\":{\"FacilityName\":\"Full Facility\",\"PlaceOfServiceCode\":2,\"NPI\":\"0987654321\",\"ExternalID\":\"EXT123\",\"FacilityAddress\":{\"AddressLine1\":\"789 Facility Rd\",\"AddressLine2\":\"Suite 100\",\"City\":\"FacilityCity\",\"State\":\"FC\",\"Zip\":\"54321\"}},\"Insurance\":[{\"InsuranceSetID\":1,\"CompanyName\":\"Insurance A\",\"CompanyAddress\":{\"AddressLine1\":\"123 Insurance St\",\"City\":\"InsuranceCity\",\"State\":\"IC\",\"Zip\":\"45678\"},\"SubscriberAddress\":{\"AddressLine1\":\"789 Subscriber Rd\",\"City\":\"SubscriberCity\",\"State\":\"SC\",\"Zip\":\"78945\"},\"InsurancePriority\":\"Primary\",\"PolicyNumber\":\"POL123456\",\"SubscriberEmployerAddress\":{\"AddressLine1\":\"Employer St\",\"City\":\"EmployerCity\",\"State\":\"EC\",\"Zip\":\"45612\"}}],\"PatientLanguage\":{\"LanguageName\":\"English\",\"Code_639_1\":\"en\",\"Code_639_2\":\"eng\"},\"IsACO\":true,\"PatientEnrollments\":[{\"EnrollmentID\":\"ENR001\",\"EnrollmentStatus\":\"Active\"}],\"MedicareNumber\":\"MED123456789\"}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:31:02.031Z, Duration: 274ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:31:16.277Z, Body: {\"Metadata\":{\"ApiSender\":\"FullSender\",\"ApiConsumer\":\"FullConsumer\",\"MessageDateTime\":\"2024-10-01T14:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":67890,\"PatientEventID\":112233,\"PatientStatus\":\"Active\",\"PatientFirst\":\"Jane\",\"PatientMiddle\":\"M\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1985-12-25\",\"PatientSSN\":\"123-45-6789\",\"PatientGender\":\"F\",\"PatientEthnicity\":[\"Ethnicity1\",\"Ethnicity2\"],\"PatientRace\":[\"Race1\",\"Race2\"],\"PatientAddress\":{\"AddressLine1\":\"456 Another St\",\"AddressLine2\":\"Apt 101\",\"City\":\"SampleCity\",\"State\":\"SC\",\"Zip\":\"12345\"},\"PatientPhone\":\"123-456-7890\",\"PatientMobilePhone\":\"098-765-4321\",\"PatientFloor\":\"5\",\"PatientRoom\":\"501\",\"PatientAdmitDate\":\"2024-10-01T08:00:00Z\",\"Facility\":{\"FacilityName\":\"Full Facility\",\"PlaceOfServiceCode\":2,\"NPI\":\"0987654321\",\"ExternalID\":\"EXT123\",\"FacilityAddress\":{\"AddressLine1\":\"789 Facility Rd\",\"AddressLine2\":\"Suite 100\",\"City\":\"FacilityCity\",\"State\":\"FC\",\"Zip\":\"54321\"}},\"Insurance\":[{\"InsuranceSetID\":1,\"CompanyName\":\"Insurance A\",\"CompanyAddress\":{\"AddressLine1\":\"123 Insurance St\",\"City\":\"InsuranceCity\",\"State\":\"IC\",\"Zip\":\"45678\"},\"SubscriberAddress\":{\"AddressLine1\":\"789 Subscriber Rd\",\"City\":\"SubscriberCity\",\"State\":\"SC\",\"Zip\":\"78945\"},\"InsurancePriority\":\"Primary\",\"PolicyNumber\":\"POL123456\",\"SubscriberEmployerAddress\":{\"AddressLine1\":\"Employer St\",\"City\":\"EmployerCity\",\"State\":\"EC\",\"Zip\":\"45612\"}}],\"PatientLanguage\":{\"LanguageName\":\"English\",\"Code_639_1\":\"en\",\"Code_639_2\":\"eng\"},\"IsACO\":true,\"PatientEnrollments\":[{\"EnrollmentID\":\"ENR001\",\"EnrollmentStatus\":\"Active\"}],\"MedicareNumber\":\"MED123456789\"}}}"}
{"level":"info","message":"Updating patient with metadata: {\"ApiSender\":\"FullSender\",\"ApiConsumer\":\"FullConsumer\",\"MessageDateTime\":\"2024-10-01T14:00:00Z\"}"}
{"level":"info","message":"patient updated with  internal id: 87"}
{"level":"info","message":"patient migrated with internal id: 87"}
{"level":"info","message":"Patient updated successfully for external ID: 67890"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T07:31:17.814Z, Duration: 1537ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:36:03.190Z, Body: {\"Metadata\":{\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":12345,\"PatientFirst\":\"John\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1990-01-01\"}}}"}
{"level":"info","message":"Updating patient with metadata: {\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"}"}
{"level":"info","message":"patient updated with  internal id: 83"}
{"level":"info","message":"migration failed for patient with internal id: 83"}
{"level":"error","message":"Error creating patient: insuranceData is not iterable","stack":"TypeError: insuranceData is not iterable\n    at Patient.updateInsurance (file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/models/patientModel.js:272:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.createPatient (file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/controllers/patientController.js:23:11)\n    at async file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/routes/patientRoutes.js:12:9"}
{"level":"info","message":"Response: 500 Internal Server Error; Time: 2024-10-09T07:36:05.741Z, Duration: 2551ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:36:24.013Z, Body: {\"Metadata\":{\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":12345,\"PatientFirst\":\"John\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1990-01-01\"}}}"}
{"level":"info","message":"Updating patient with metadata: {\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"}"}
{"level":"info","message":"patient updated with  internal id: 83"}
{"level":"info","message":"migration failed for patient with internal id: 83"}
{"level":"error","message":"Error creating patient: insuranceData is not iterable","stack":"TypeError: insuranceData is not iterable\n    at Patient.updateInsurance (file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/models/patientModel.js:272:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.createPatient (file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/controllers/patientController.js:23:11)\n    at async file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/routes/patientRoutes.js:12:9"}
{"level":"info","message":"Response: 500 Internal Server Error; Time: 2024-10-09T07:36:26.564Z, Duration: 2551ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:38:35.166Z, Body: {\"Metadata\":{\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":12345,\"PatientFirst\":\"John\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1990-01-01\"}}}"}
{"level":"info","message":"Updating patient with metadata: {\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"}"}
{"level":"info","message":"patient updated with  internal id: 83"}
{"level":"error","message":"Error creating patient: insuranceData is not iterable","stack":"TypeError: insuranceData is not iterable\n    at Patient.updateInsurance (file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/models/patientModel.js:272:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.createPatient (file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/controllers/patientController.js:23:11)\n    at async file:///C:/Users/quant/OneDrive/Desktop/rcm-api-automation/routes/patientRoutes.js:12:9"}
{"level":"info","message":"Response: 500 Internal Server Error; Time: 2024-10-09T07:38:37.093Z, Duration: 1927ms"}
{"level":"info","message":"migration failed for patient with internal id: 83"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:39:17.331Z, Body: {\"Metadata\":{\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":12345,\"PatientFirst\":\"John\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1990-01-01\"}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:39:17.645Z, Duration: 314ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:39:41.253Z, Body: {\"Metadata\":{\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":12345,\"PatientFirst\":\"John\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1990-01-01\"}},\"Insurance\":[]}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:39:41.688Z, Duration: 435ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:40:06.818Z, Body: {\"Metadata\":{\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":12345,\"PatientFirst\":\"John\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1990-01-01\",\"Insurance\":[]}}}"}
{"level":"info","message":"Updating patient with metadata: {\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"}"}
{"level":"info","message":"patient updated with  internal id: 83"}
{"level":"info","message":"migration failed for patient with internal id: 83"}
{"level":"info","message":"Patient updated successfully for external ID: 12345"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T07:40:10.126Z, Duration: 3308ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:41:20.727Z, Body: {\"Metadata\":{\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":12345,\"PatientFirst\":\"John\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1990-01-01\",\"Insurance\":[]}}}"}
{"level":"info","message":"Updating patient with metadata: {\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"}"}
{"level":"info","message":"patient updated with  internal id: 83"}
{"level":"info","message":"migration failed for patient with internal id: 83"}
{"level":"info","message":"Patient updated successfully for external ID: 12345"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T07:41:22.685Z, Duration: 1958ms"}
{"level":"info","message":"Server running on port 5000"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:43:54.381Z, Body: {\"Metadata\":{\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":12345,\"PatientFirst\":\"John\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1990-01-01\",\"Insurance\":[]}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:43:54.746Z, Duration: 365ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:44:19.672Z, Body: {\"Metadata\":{\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":12345,\"PatientFirst\":\"John\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1990-01-01\",\"PatientPhone\":\"\",\"Insurance\":[]}}}"}
{"level":"info","message":"Updating patient with metadata: {\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"}"}
{"level":"info","message":"patient updated with  internal id: 83"}
{"level":"info","message":"migration failed for patient with internal id: 83"}
{"level":"info","message":"Patient updated successfully for external ID: 12345"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T07:44:21.243Z, Duration: 1571ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:45:24.951Z, Body: {\"Metadata\":{\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":12345,\"PatientFirst\":\"John\",\"PatientLast\":\"Doe\",\"PatientDOB\":\"1990-01-01\",\"PatientPhone\":\"123-2342-321\",\"Insurance\":[]}}}"}
{"level":"info","message":"Updating patient with metadata: {\"ApiSender\":\"MinimalSender\",\"ApiConsumer\":\"MinimalConsumer\",\"MessageDateTime\":\"2024-10-01T12:00:00Z\"}"}
{"level":"info","message":"patient updated with  internal id: 83"}
{"level":"info","message":"patient migrated with internal id: 83"}
{"level":"info","message":"Patient updated successfully for external ID: 12345"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T07:45:26.985Z, Duration: 2034ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:47:51.969Z, Body: {\"Metadata\":{\"ApiSender\":\"TestSender\",\"ApiConsumer\":\"Consumer1\",\"MessageDateTime\":\"2024-10-01T10:30:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":45678,\"PatientFirst\":\"Alice\",\"PatientLast\":\"Smith\",\"PatientDOB\":\"1978-06-15\",\"PatientAddress\":{\"AddressLine1\":\"123 Main St\",\"City\":\"Hometown\",\"State\":\"HS\",\"Zip\":\"98765\"},\"PatientAdmitDate\":\"2024-10-01T09:00:00Z\",\"PatientGender\":\"Female\",\"IsACO\":false}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:47:53.438Z, Duration: 1469ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:48:07.535Z, Body: {\"Metadata\":{\"ApiSender\":\"TestSender\",\"ApiConsumer\":\"Consumer1\",\"MessageDateTime\":\"2024-10-01T10:30:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":45678,\"PatientFirst\":\"Alice\",\"PatientLast\":\"Smith\",\"PatientDOB\":\"1978-06-15\",\"PatientAddress\":{\"AddressLine1\":\"123 Main St\",\"City\":\"Hometown\",\"State\":\"HS\",\"Zip\":\"98765\"},\"PatientAdmitDate\":\"2024-10-01T09:00:00Z\",\"PatientGender\":\"F\",\"IsACO\":false}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:48:08.131Z, Duration: 596ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:48:57.504Z, Body: {\"Metadata\":{\"ApiSender\":\"TestSender\",\"ApiConsumer\":\"Consumer1\",\"MessageDateTime\":\"2024-10-01T10:30:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":45678,\"PatientFirst\":\"Alice\",\"PatientLast\":\"Smith\",\"PatientDOB\":\"1978-06-15\",\"PatientAddress\":{\"AddressLine1\":\"123 Main St\",\"City\":\"Hometown\",\"State\":\"HS\",\"Zip\":\"98765\"},\"PatientPhone\":\"asdasdasd\",\"Insurance\":[],\"PatientAdmitDate\":\"2024-10-01T09:00:00Z\",\"PatientGender\":\"F\",\"IsACO\":false}}}"}
{"level":"info","message":"Updating patient with metadata: {\"ApiSender\":\"TestSender\",\"ApiConsumer\":\"Consumer1\",\"MessageDateTime\":\"2024-10-01T10:30:00Z\"}"}
{"level":"info","message":"patient updated with  internal id: 88"}
{"level":"info","message":"patient migrated with internal id: 88"}
{"level":"info","message":"Patient updated successfully for external ID: 45678"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T07:48:59.458Z, Duration: 1954ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:50:46.755Z, Body: {\"Metadata\":{\"ApiSender\":\"NullTestSender\",\"ApiConsumer\":null,\"MessageDateTime\":\"2024-10-01T16:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":98765,\"PatientEventID\":null,\"PatientFirst\":\"Charlie\",\"PatientLast\":\"Brown\",\"PatientDOB\":\"1992-05-10\",\"PatientSSN\":null,\"PatientGender\":\"Male\",\"PatientAddress\":{\"AddressLine1\":\"789 Broadway St\",\"AddressLine2\":null,\"City\":\"BigCity\",\"State\":\"BC\",\"Zip\":\"67890\"},\"PatientPhone\":null,\"PatientMobilePhone\":null,\"PatientAdmitDate\":null,\"Facility\":null,\"Insurance\":[],\"MedicareNumber\":null}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:50:47.470Z, Duration: 715ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:50:57.972Z, Body: {\"Metadata\":{\"ApiSender\":\"NullTestSender\",\"ApiConsumer\":null,\"MessageDateTime\":\"2024-10-01T16:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":98765,\"PatientEventID\":null,\"PatientFirst\":\"Charlie\",\"PatientLast\":\"Brown\",\"PatientDOB\":\"1992-05-10\",\"PatientSSN\":null,\"PatientGender\":\"M\",\"PatientAddress\":{\"AddressLine1\":\"789 Broadway St\",\"AddressLine2\":null,\"City\":\"BigCity\",\"State\":\"BC\",\"Zip\":\"67890\"},\"PatientPhone\":null,\"PatientMobilePhone\":null,\"PatientAdmitDate\":null,\"Facility\":null,\"Insurance\":[],\"MedicareNumber\":null}}}"}
{"level":"info","message":"Response: 400 Bad Request; Time: 2024-10-09T07:50:58.276Z, Duration: 304ms"}
{"level":"info","message":"Incoming Request: POST /api/patients, Time: 2024-10-09T07:51:13.573Z, Body: {\"Metadata\":{\"ApiSender\":\"NullTestSender\",\"ApiConsumer\":null,\"MessageDateTime\":\"2024-10-01T16:00:00Z\"},\"Data\":{\"Patient\":{\"PatientID\":98765,\"PatientEventID\":null,\"PatientFirst\":\"Charlie\",\"PatientLast\":\"Brown\",\"PatientDOB\":\"1992-05-10\",\"PatientSSN\":null,\"PatientGender\":\"M\",\"PatientAddress\":{\"AddressLine1\":\"789 Broadway St\",\"AddressLine2\":null,\"City\":\"BigCity\",\"State\":\"BC\",\"Zip\":\"67890\"},\"PatientPhone\":\"asdasadsasdas\",\"PatientMobilePhone\":null,\"PatientAdmitDate\":null,\"Facility\":null,\"Insurance\":[],\"MedicareNumber\":null}}}"}
{"level":"info","message":"Updating patient with metadata: {\"ApiSender\":\"NullTestSender\",\"ApiConsumer\":null,\"MessageDateTime\":\"2024-10-01T16:00:00Z\"}"}
{"level":"info","message":"patient updated with  internal id: 90"}
{"level":"info","message":"patient migrated with internal id: 90"}
{"level":"info","message":"Patient updated successfully for external ID: 98765"}
{"level":"info","message":"Response: 201 Created; Time: 2024-10-09T07:51:15.170Z, Duration: 1597ms"}
{"level":"info","message":"Server is shutting down..."}
